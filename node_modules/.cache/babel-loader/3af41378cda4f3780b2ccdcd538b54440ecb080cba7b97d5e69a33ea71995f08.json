{"ast":null,"code":"import React,{useState}from'react';import ImageUpload from'./imageupload';import LocationInfo from'./locationinfo';import FishingRodSelection from'./fishingrodselection';import BaitSelection from'./baitselection';import'./createapost.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function CreatePost(_ref){let{onAddPost}=_ref;const[imageUrl,setImage]=useState(null);const[location,setLocation]=useState('');const[rodType,setRodType]=useState('');const[rodBrand,setRodBrand]=useState('');const[baitType,setBaitType]=useState('');const[baitColor,setBaitColor]=useState('');const[caption,setCaption]=useState('');const handleSubmit=async event=>{event.preventDefault();const newPost={imageUrl,location,rodType,rodBrand,baitType,baitColor,caption,time:new Date().toLocaleString()};try{const response=await fetch('/api/posts',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newPost)});if(response.ok){const savedPost=await response.json();onAddPost(savedPost);}}catch(error){console.error(\"Error creating post:\",error);}setImage(null);setLocation('');setRodType('');setRodBrand('');setBaitType('');setBaitColor('');setCaption('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"create-post\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create a New Post\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(ImageUpload,{onImageChange:setImage}),/*#__PURE__*/_jsx(LocationInfo,{onLocationChange:setLocation}),/*#__PURE__*/_jsx(FishingRodSelection,{onRodTypeChange:setRodType,onRodBrandChange:setRodBrand}),/*#__PURE__*/_jsx(BaitSelection,{onBaitTypeChange:setBaitType,onBaitColorChange:setBaitColor}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Caption:\",/*#__PURE__*/_jsx(\"textarea\",{value:caption,onChange:e=>setCaption(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Post\"})]})]});}export default CreatePost;","map":{"version":3,"names":["React","useState","ImageUpload","LocationInfo","FishingRodSelection","BaitSelection","jsx","_jsx","jsxs","_jsxs","CreatePost","_ref","onAddPost","imageUrl","setImage","location","setLocation","rodType","setRodType","rodBrand","setRodBrand","baitType","setBaitType","baitColor","setBaitColor","caption","setCaption","handleSubmit","event","preventDefault","newPost","time","Date","toLocaleString","response","fetch","method","headers","body","JSON","stringify","ok","savedPost","json","error","console","className","children","onSubmit","encType","onImageChange","onLocationChange","onRodTypeChange","onRodBrandChange","onBaitTypeChange","onBaitColorChange","value","onChange","e","target","required","type"],"sources":["C:/Users/taftj/OneDrive/Desktop/cs260/cs260startup/src/createapost/createapost.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport ImageUpload from './imageupload';\r\nimport LocationInfo from './locationinfo';\r\nimport FishingRodSelection from './fishingrodselection';\r\nimport BaitSelection from './baitselection';\r\nimport './createapost.css';\r\n\r\nexport function CreatePost({ onAddPost }) {\r\n    const [imageUrl, setImage] = useState(null);\r\n    const [location, setLocation] = useState('');\r\n    const [rodType, setRodType] = useState('');\r\n    const [rodBrand, setRodBrand] = useState('');\r\n    const [baitType, setBaitType] = useState('');\r\n    const [baitColor, setBaitColor] = useState('');\r\n    const [caption, setCaption] = useState('');\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const newPost = { imageUrl, location, rodType, rodBrand, baitType, baitColor, caption, time: new Date().toLocaleString() };\r\n        \r\n        try {\r\n            const response = await fetch('/api/posts', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(newPost),\r\n            });\r\n    \r\n            if (response.ok) {\r\n                const savedPost = await response.json();\r\n                onAddPost(savedPost);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error creating post:\", error);\r\n        }\r\n\r\n        setImage(null);\r\n        setLocation('');\r\n        setRodType('');\r\n        setRodBrand('');\r\n        setBaitType('');\r\n        setBaitColor('');\r\n        setCaption('');\r\n    };\r\n\r\n    return (\r\n        <div className=\"create-post\">\r\n            <h1>Create a New Post</h1>\r\n            <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n                <ImageUpload onImageChange={setImage} />\r\n                <LocationInfo onLocationChange={setLocation} />\r\n                <FishingRodSelection onRodTypeChange={setRodType} onRodBrandChange={setRodBrand} />\r\n                <BaitSelection onBaitTypeChange={setBaitType} onBaitColorChange={setBaitColor} />\r\n                <label>\r\n                    Caption:\r\n                    <textarea value={caption} onChange={(e) => setCaption(e.target.value)} required />\r\n                </label>\r\n                <button type=\"submit\">Create Post</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreatePost;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,mBAAmB,KAAM,uBAAuB,CACvD,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,MAAO,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAgB,IAAf,CAAEC,SAAU,CAAC,CAAAD,IAAA,CACpC,KAAM,CAACE,QAAQ,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC3C,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACkB,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACoB,QAAQ,CAAEC,WAAW,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACsB,SAAS,CAAEC,YAAY,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACwB,OAAO,CAAEC,UAAU,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAA0B,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CAClCA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,KAAM,CAAAC,OAAO,CAAG,CAAEjB,QAAQ,CAAEE,QAAQ,CAAEE,OAAO,CAAEE,QAAQ,CAAEE,QAAQ,CAAEE,SAAS,CAAEE,OAAO,CAAEM,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,cAAc,CAAC,CAAE,CAAC,CAE1H,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,YAAY,CAAE,CACvCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACV,OAAO,CAChC,CAAC,CAAC,CAEF,GAAII,QAAQ,CAACO,EAAE,CAAE,CACb,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CACvC/B,SAAS,CAAC8B,SAAS,CAAC,CACxB,CACJ,CAAE,MAAOE,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAChD,CAEA9B,QAAQ,CAAC,IAAI,CAAC,CACdE,WAAW,CAAC,EAAE,CAAC,CACfE,UAAU,CAAC,EAAE,CAAC,CACdE,WAAW,CAAC,EAAE,CAAC,CACfE,WAAW,CAAC,EAAE,CAAC,CACfE,YAAY,CAAC,EAAE,CAAC,CAChBE,UAAU,CAAC,EAAE,CAAC,CAClB,CAAC,CAED,mBACIjB,KAAA,QAAKqC,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxBxC,IAAA,OAAAwC,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BtC,KAAA,SAAMuC,QAAQ,CAAErB,YAAa,CAACsB,OAAO,CAAC,qBAAqB,CAAAF,QAAA,eACvDxC,IAAA,CAACL,WAAW,EAACgD,aAAa,CAAEpC,QAAS,CAAE,CAAC,cACxCP,IAAA,CAACJ,YAAY,EAACgD,gBAAgB,CAAEnC,WAAY,CAAE,CAAC,cAC/CT,IAAA,CAACH,mBAAmB,EAACgD,eAAe,CAAElC,UAAW,CAACmC,gBAAgB,CAAEjC,WAAY,CAAE,CAAC,cACnFb,IAAA,CAACF,aAAa,EAACiD,gBAAgB,CAAEhC,WAAY,CAACiC,iBAAiB,CAAE/B,YAAa,CAAE,CAAC,cACjFf,KAAA,UAAAsC,QAAA,EAAO,UAEH,cAAAxC,IAAA,aAAUiD,KAAK,CAAE/B,OAAQ,CAACgC,QAAQ,CAAGC,CAAC,EAAKhC,UAAU,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAACI,QAAQ,MAAE,CAAC,EAC/E,CAAC,cACRrD,IAAA,WAAQsD,IAAI,CAAC,QAAQ,CAAAd,QAAA,CAAC,aAAW,CAAQ,CAAC,EACxC,CAAC,EACN,CAAC,CAEd,CAEA,cAAe,CAAArC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}